@* Partial view for displaying ongoing training matches *@

<div class="ongoing-matches-container">
    <!-- Loading State -->
    <div id="ongoingMatchesLoading" class="text-center py-5">
        <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Laddar...</span>
        </div>
        <p class="mt-2 text-muted">Hämtar pågående matcher...</p>
    </div>

    <!-- Empty State -->
    <div id="ongoingMatchesEmpty" class="text-center py-5" style="display: none;">
        <i class="bi bi-calendar-x fs-1 text-muted"></i>
        <h5 class="mt-3">Inga pågående matcher</h5>
        <p class="text-muted">Det finns inga aktiva träningsmatcher just nu.<br>Skapa en egen match eller vänta på att någon startar en.</p>
    </div>

    <!-- Matches List -->
    <div id="ongoingMatchesList" class="row g-3" style="display: none;">
        <!-- Matches will be rendered here by JavaScript -->
    </div>
</div>

<style>
    .ongoing-matches-container {
        min-height: 200px;
    }

    .match-card {
        transition: transform 0.2s, box-shadow 0.2s;
    }

    .match-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }

    .participant-avatars {
        display: flex;
        align-items: center;
    }

    .participant-avatar {
        width: 32px;
        height: 32px;
        border-radius: 50%;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.75rem;
        font-weight: 600;
        border: 2px solid white;
        margin-left: -8px;
        position: relative;
    }

    .participant-avatar:first-child {
        margin-left: 0;
    }

    .participant-avatar.more-count {
        background: #6c757d;
        font-size: 0.65rem;
    }

    .weapon-badge {
        font-size: 0.75rem;
        padding: 0.25rem 0.5rem;
        border-radius: 0.25rem;
        font-weight: 600;
    }

    .weapon-badge.weapon-A { background-color: #e3f2fd; color: #1565c0; }
    .weapon-badge.weapon-B { background-color: #f3e5f5; color: #7b1fa2; }
    .weapon-badge.weapon-C { background-color: #e8f5e9; color: #2e7d32; }
    .weapon-badge.weapon-R { background-color: #fff3e0; color: #e65100; }
    .weapon-badge.weapon-P { background-color: #fce4ec; color: #c2185b; }

    .match-status-badge {
        font-size: 0.7rem;
        padding: 0.2rem 0.4rem;
    }

    .scheduled-indicator {
        background-color: #fff3cd;
        color: #856404;
        border-radius: 0.25rem;
        padding: 0.25rem 0.5rem;
        font-size: 0.75rem;
        display: inline-flex;
        align-items: center;
        gap: 0.25rem;
    }

    .match-creator {
        font-size: 0.85rem;
        color: #6c757d;
    }

    .match-time {
        font-size: 0.8rem;
        color: #6c757d;
    }

    .btn-view-match, .btn-join-match {
        padding: 0.375rem 0.75rem;
        font-size: 0.875rem;
    }

    .login-required-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(255,255,255,0.95);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        border-radius: 0.375rem;
        z-index: 10;
    }

    .match-code {
        font-family: monospace;
        font-size: 0.9rem;
        background: #f8f9fa;
        padding: 0.125rem 0.375rem;
        border-radius: 0.25rem;
    }
</style>
